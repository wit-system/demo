var H=(b,R,g)=>new Promise((D,i)=>{var x=d=>{try{m(g.next(d))}catch(_){i(_)}},V=d=>{try{m(g.throw(d))}catch(_){i(_)}},m=d=>d.done?D(d.value):Promise.resolve(d.value).then(x,V);m((g=g.apply(b,R)).next())});import re from"./index-Ck6Dl0h3.js";import{d as ue,P as pe,r as o,a0 as M,av as fe,l as me,S as _e,b as L,m as p,o as u,c as f,n as e,F as h,A as C,a7 as J,p as l,B as P,y as t,a6 as G,s as n,x as A,q as ve,z as he,E as be,af as ge,H as xe,I as we,J as ye,_ as ke}from"./index-CmC8Jr0A.js";import{_ as Ve}from"./index.vue_vue_type_style_index_0_lang-D4meg1a3.js";import"./style-Bdh6i4Yf.js";import"./fileUpload-XyOau-In.js";import"./ifComponent.vue_vue_type_style_index_0_lang-ZpisXDR_.js";import"./index-COFi4TtR.js";import"./index.vue_vue_type_script_setup_true_lang-DtyLHHVv.js";import"./dict-BvhWhz6G.js";const k=b=>(we("data-v-ae6d641e"),b=b(),ye(),b),Ce={class:"system-drug-therapy-config auto-height-container flex-column"},Re={class:"wit-tab border flex"},Se=["onClick"],Be={class:"flex-all flex wrap"},De={class:"wrap-left flex-all flex-column"},Ne={class:"flex-all padding-around"},Te={class:"wrap-right flex-all"},Ue={class:"wrap-right-con flex-column"},$e={class:"flex-all detail flex-column"},ze={class:"flex space-between"},qe=k(()=>e("div",{class:"title"},"详情",-1)),We={class:"flex"},Ie={class:"operate-btn"},Le=be('<div class="flex left-center" data-v-ae6d641e><div class="detail-title" data-v-ae6d641e> 肾功能不全模版 <span class="default" data-v-ae6d641e>默认</span></div></div><div class="flex all-center detail-info" data-v-ae6d641e><span data-v-ae6d641e>消化内科</span><span class="line" data-v-ae6d641e></span><span data-v-ae6d641e>李四</span><span class="line" data-v-ae6d641e></span><span data-v-ae6d641e>2024/04/02</span></div>',2),Ae={class:"flex-all detail-desc invisible-scrollbar"},Ee={class:"apply-dept flex"},Fe=k(()=>e("div",{class:"title"},"只适用",-1)),je={class:"flex-all flex flex-flow"},Oe={class:"flex space-between"},He=k(()=>e("div",{class:"title"},"模版内容",-1)),Me={class:"flex-all flex-column mt8"},Je={class:"radio-bg"},Pe={class:"radio-bg"},Ge={class:"form-bg"},Ke={class:"flex up-center padding-horizontal"},Qe={class:"common-attention"},Xe={class:"dept-list flex"},Ye={class:"flex-all flex"},Ze=k(()=>e("span",null,"添加",-1)),et=k(()=>e("span",null,"科室一",-1)),tt={class:"flex flex-flow"},at=k(()=>e("span",null,"科室一",-1)),lt=ue({__name:"index",setup(b){pe("$baseMessage");const R=o(0),g=["解读原因模版","结果解读模版","推荐建议模版"],D=r=>{R.value=r},i=o(!0),x=o(!1),V=o(""),m=o(""),d=o(""),_=o(),E=o(!0);let S="";M(()=>{N(),S=new ResizeObserver(()=>{N()}),S.observe(m.value)});const N=()=>{fe(()=>{if(!i.value){d.value=m.value.clientHeight;const r=_.value.clientWidth;let s=0;_.value.querySelectorAll(".dept-item").forEach(q=>{s+=q.offsetWidth+4}),E.value=s>r}})};me(i,()=>{N()}),_e(()=>{S&&S.disconnect()});const T=o({name:"",deptCode:""}),K=L({searchList:[{type:"input",field:"name",label:"模板名称",isOutBorder:!0,attrs:{placeholder:"请输入",width:130,clearable:!0}},{type:"select",field:"deptCode",label:"科室",valueField:"value",labelField:"label",isOutBorder:!0,options:[{value:"1",label:"待分析"},{value:"2",label:"待建议"},{value:"3",label:"待查看"},{value:"4",label:"已接受"}],attrs:{width:130,clearable:!0}}],searchListButtons:[{label:"搜 索",isShowLoading:!0,attrs:{type:"primary"},events:{click:Y}},{label:"新 增",icon:"icon-xinzengdianpingjihua",attrs:{type:"primary"},events:{click:se}}]}),U=o([{name:"肾功能不全模版",isDefault:"1",deptName:"消化内科",updateTime:"李四(2024/04/02)"},{name:"肾功能不全模版",isDefault:"0",deptName:"消化内科",updateTime:"李四(2024/04/02)"},{name:"肾功能不全模版",isDefault:"0",deptName:"消化内科",updateTime:"李四(2024/04/02)"}]),Q=[{type:"radio",title:"默认",width:"50",align:"center"},{field:"name",title:"模版名称",minWidth:"120"},{field:"deptName",title:"科室名称",minWidth:"120"},{field:"updateTime",title:"更新人(更新时间）",width:"165"},{field:"active",title:"启停状态",width:"80",align:"center",render:!0}],c=L({name:"",isDefault:"1"}),X=L({name:[{required:!0,message:"请输入",trigger:"blur"}],isDefault:[{required:!0,message:"请选择",trigger:"change"}],status:[{required:!0,message:"请选择",trigger:"change"}]}),F=o(null);function Y(){F.value.search()}const $=o(!1),Z=()=>H(this,null,function*(){}),ee=({row:r})=>{if(z.value===r)return"light-text"},z=o(),te=({row:r})=>{z.value=r},j=o(null),ae=()=>{z.value=U.value[0],j.value.tableMethods("setRadioRow",U.value[0])};M(()=>{ae()});const le=r=>{};function se(){}return(r,s)=>{const O=Ve,q=p("el-switch"),oe=ge,v=xe,W=p("el-button"),ne=p("el-input"),B=p("el-form-item"),w=p("el-radio"),I=p("el-radio-group"),ie=p("el-popover"),de=p("el-form"),ce=re;return u(),f("div",Ce,[e("div",Re,[(u(),f(h,null,C(g,(a,y)=>e("div",{class:J(["tab-li",{active:l(R)===y}]),key:y,onClick:st=>D(y)},P(a),11,Se)),64))]),e("div",Be,[e("div",De,[t(O,{ref_key:"witSearchRef",ref:F,modelValue:l(T),"onUpdate:modelValue":s[0]||(s[0]=a=>G(T)?T.value=a:null),"search-data":l(K),"is-cache":!1,border:!1,"search-name":"system-drug-therapy-config-search",searching:l($),onSearch:Z},null,8,["modelValue","search-data","searching"]),e("div",Ne,[t(oe,{ref_key:"tableRef",ref:j,"table-name":"collect-prescription-table",loading:l($),"table-data":l(U),columns:Q,isShowTableSet:!1,"row-class-name":ee,onRadioChange:te},{active:n(a=>[t(q,{modelValue:a.row.active,"onUpdate:modelValue":y=>a.row.active=y,loading:l($),onChange:y=>le(a.row),"active-value":"1","inactive-value":"0"},null,8,["modelValue","onUpdate:modelValue","loading","onChange"])]),_:1},8,["loading","table-data"])])]),e("div",Te,[e("div",Ue,[l(i)?(u(),f(h,{key:0},[e("div",$e,[e("div",ze,[qe,e("div",We,[e("div",{class:"operate-btn",onClick:s[1]||(s[1]=a=>i.value=!l(i))},[t(v,{icon:"icon-xiugai"})]),e("div",Ie,[t(v,{icon:"icon-shanchu",style:{"font-size":"18px"}})])])]),Le,e("div",Ae,[(u(),f(h,null,C(10,a=>e("span",{key:a}," 这里是肾功能不全模版的详情内容，这里是肾功能不全模版的详情内容，这里是肾功能不全模版的详情内容，这里是肾功能不全模版的详情内容，这里是肾功能不全模版的详情内容，这里是肾功能不全模版的详情内容，这里是肾功能不全模版的详情内容这里是肾功能不全模版的详情内容这里是肾功能不全模版的详情内容，这里是肾功能不全模版的详情内容，这里是肾功能不全模版的详情内容，这里是肾功能不全模版的详情内容这里是肾功能不全模版的详情内容这里是肾功能不全模版的详情内容，这里是肾功能不全模版的详情内容，这里是肾功能不全模版的详情内容，这里是肾 ")),64))])]),e("div",Ee,[Fe,e("div",je,[(u(),f(h,null,C(10,a=>e("div",{class:"tag",key:a},"消化内科")),64))])])],64)):(u(),f(h,{key:1},[e("div",Oe,[He,e("div",null,[t(W,null,{default:n(()=>[A("取 消")]),_:1}),t(W,{type:"primary",onClick:s[2]||(s[2]=a=>i.value=!l(i))},{default:n(()=>[A("保 存")]),_:1})])]),e("div",Me,[t(de,{ref:"formRef","label-width":"87px",model:l(c),rules:l(X)},{default:n(()=>[t(B,{label:"模版名称：",prop:"name"},{default:n(()=>[t(ne,{modelValue:l(c).name,"onUpdate:modelValue":s[3]||(s[3]=a=>l(c).name=a),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),t(B,{label:"是否默认",prop:"isDefault"},{default:n(()=>[e("div",Je,[t(I,{modelValue:l(c).isDefault,"onUpdate:modelValue":s[4]||(s[4]=a=>l(c).isDefault=a)},{default:n(()=>[t(w,{label:"是",value:"1"}),t(w,{label:"否",value:"0"})]),_:1},8,["modelValue"])])]),_:1}),t(B,{label:"适用状态：",prop:"status"},{default:n(()=>[e("div",Pe,[t(I,{modelValue:l(c).status,"onUpdate:modelValue":s[5]||(s[5]=a=>l(c).status=a)},{default:n(()=>[t(w,{label:"只适用",value:"1"}),t(w,{label:"只排除",value:"0"})]),_:1},8,["modelValue"])])]),_:1}),t(B,{label:"适用类型:",prop:"type",required:""},{default:n(()=>[e("div",Ge,[e("div",Ke,[t(I,{modelValue:l(c).type,"onUpdate:modelValue":s[6]||(s[6]=a=>l(c).type=a)},{default:n(()=>[t(w,{label:"全院",value:"1"}),t(w,{label:"科室",value:"0"})]),_:1},8,["modelValue"]),e("span",Qe,[t(v,{icon:"icon-xintishi"}),A(" 请添加科室 ")])]),e("div",Xe,[e("div",Ye,[t(W,{type:"primary"},{default:n(()=>[t(v,{icon:"icon-xinzengdianpingjihua"}),Ze]),_:1}),e("div",{class:"flex-all flex",ref_key:"deptBoxRef",ref:_},[(u(),f(h,null,C(6,a=>e("div",{class:"dept-item flex-shrink flex up-center",key:a},[et,t(v,{icon:"icon-guanbiliaotianyemian"})])),64))],512)]),l(E)?(u(),ve(ie,{key:0,placement:"bottom-end",width:473,trigger:"click","popper-class":"custom-dept-popover"},{reference:n(()=>[e("div",{class:J(["expand flex-shrink flex up-center",{collapse:l(x)}]),onClick:s[7]||(s[7]=a=>x.value=!l(x))},[e("span",null,P(l(x)?"收起":"展开"),1),t(v,{icon:"icon-a-zujian219"})],2)]),default:n(()=>[e("div",tt,[(u(),f(h,null,C(6,a=>e("div",{class:"dept-item flex-shrink flex up-center",key:a},[at,t(v,{icon:"icon-guanbiliaotianyemian"})])),64))])]),_:1})):he("",!0)])])]),_:1})]),_:1},8,["model","rules"]),e("div",{class:"flex-all",ref_key:"editorRef",ref:m},[t(ce,{modelValue:l(V),"onUpdate:modelValue":s[8]||(s[8]=a=>G(V)?V.value=a:null),simple:!0,height:l(d)},null,8,["modelValue","height"])],512)])],64))])])])])}}}),_t=ke(lt,[["__scopeId","data-v-ae6d641e"]]);export{_t as default};
