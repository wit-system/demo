var z=(m,x,_)=>new Promise((y,d)=>{var r=n=>{try{b(_.next(n))}catch(u){d(u)}},f=n=>{try{b(_.throw(n))}catch(u){d(u)}},b=n=>n.done?y(n.value):Promise.resolve(n.value).then(r,f);b((_=_.apply(m,x)).next())});import{d as J,P as K,r as h,aj as Q,b as W,m as i,T as X,o as p,c as L,y as a,s,x as w,p as o,t as Y,q as S,n as c,F as C,A as I,B as j,a6 as Z,H as ee,ah as le,I as oe,J as te,_ as ae}from"./index-1fQ0gozz.js";import{H as se,F as ne}from"./indication-BrfvaLV3.js";const O=m=>(oe("data-v-6d09f21f"),m=m(),te(),m),re={class:"editGestationalAgeDialog-container"},ie={class:"floorLevel-content"},de=O(()=>c("span",{class:"floorLevel-zhou"},"周",-1)),ue=O(()=>c("span",{class:"floorLevel-zhi"},"至",-1)),pe=O(()=>c("span",{class:"floorLevel-zhou"},"周",-1)),ce={class:"floorLevel-tips"},me={class:"radio-bg"},_e={class:"radio-bg"},fe=J({__name:"editGestationalAgeDialog",emits:["query"],setup(m,{expose:x,emit:_}){const y=K("$baseMessage"),d=h(!1),r=h(!1),f=h("新增孕周规则"),b=_,n=h(),u=Q(),F={severity:[{required:!0,message:"请选择禁慎用标识",trigger:"change"}],warnSign:[{required:!0,message:"请选择问题等级",trigger:"change"}],whetherOverstepSynopsis:[{required:!0,message:"请选择是否超说明书用药",trigger:"change"}]},T=h([{label:"是",value:"1"},{label:"否",value:"0"}]),t=W({generalId:"",reference:"",icdType:0,whetherOverstepSynopsis:"0",active:"0",tipContent:"",severity:"",warnSign:"",floorLevel:0,upperLevel:0}),A=(V,l,v)=>{t.warnSign=u.wordbook.caution_signs[0].dictValue,t.severity=u.wordbook.problem_level_rule[0].dictValue,t.generalId=v,d.value=!0,l=="edit"?(f.value="编辑孕周规则",Object.assign(t,V)):f.value="新增孕周规则"},k=()=>{r.value=!1,d.value=!1,Object.assign(t,{generalId:"",reference:"",icdType:0,whetherOverstepSynopsis:"0",active:"0",tipContent:"",warnSign:"",severity:"",floorLevel:0,upperLevel:0})},$=()=>{n.value.validate(V=>z(this,null,function*(){if(V){r.value=!0;try{let l=Object.assign({},t,{icdType:""});if(l.floorLevel>l.upperLevel){y("请填写正确的孕周范围","warning","hey"),r.value=!1;return}const v=f.value=="新增孕周规则"?yield se([l]):yield ne([l]);r.value=!1,n.value.resetFields(),y(v.msg,"success","hey"),k(),b("query")}catch(l){r.value=!1}}}))};return x({showDiag:A}),(V,l)=>{const v=i("el-input-number"),N=ee,g=i("el-form-item"),U=i("el-radio"),B=i("el-radio-group"),R=i("el-option"),E=i("el-select"),D=i("el-input"),G=i("el-form"),q=i("el-button"),H=le,M=X("loading");return p(),L("div",re,[a(H,{modelValue:o(d),"onUpdate:modelValue":l[7]||(l[7]=e=>Z(d)?d.value=e:null),title:o(f),width:"826px",modal:!1,"append-to-body":"",onClose:k,class:"no-form-line-margin pointerEvents"},{footer:s(()=>[a(q,{onClick:k},{default:s(()=>[w("取 消")]),_:1}),a(q,{disabled:o(r),type:"primary",onClick:$},{default:s(()=>[w("确 定")]),_:1},8,["disabled"])]),default:s(()=>[Y((p(),S(G,{ref_key:"formRef",ref:n,model:o(t),"label-width":"140px",rules:F},{default:s(()=>[a(g,{label:"孕周范围"},{default:s(()=>[c("div",ie,[a(v,{modelValue:o(t).floorLevel,"onUpdate:modelValue":l[0]||(l[0]=e=>o(t).floorLevel=e),min:0,max:3e3,"controls-position":"right",size:"small"},null,8,["modelValue"]),de,ue,a(v,{modelValue:o(t).upperLevel,"onUpdate:modelValue":l[1]||(l[1]=e=>o(t).upperLevel=e),min:0,max:3e3,"controls-position":"right",size:"small"},null,8,["modelValue"]),pe,c("p",ce,[a(N,{icon:"icon-xintishi",style:{color:"#fc9f15"}}),w(" 提示：0～0表示任何孕周 ")])])]),_:1}),a(g,{label:"禁慎用标识",prop:"warnSign"},{default:s(()=>[c("div",me,[a(B,{modelValue:o(t).warnSign,"onUpdate:modelValue":l[2]||(l[2]=e=>o(t).warnSign=e)},{default:s(()=>[(p(!0),L(C,null,I(o(u).wordbook.caution_signs,(e,P)=>(p(),S(U,{key:e.dictValue,label:e.dictValue,value:e.dictValue},{default:s(()=>[w(j(e.dictLabel),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])])]),_:1}),a(g,{label:"问题等级",prop:"severity"},{default:s(()=>[a(E,{modelValue:o(t).severity,"onUpdate:modelValue":l[3]||(l[3]=e=>o(t).severity=e),size:"large",placeholder:"请选择"},{default:s(()=>[(p(!0),L(C,null,I(o(u).wordbook.problem_level_rule,e=>(p(),S(R,{key:e.dictLabel,label:e.dictLabel,value:e.dictValue},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(g,{label:"是否超说明书用药",prop:"whetherOverstepSynopsis"},{default:s(()=>[c("div",_e,[a(B,{modelValue:o(t).whetherOverstepSynopsis,"onUpdate:modelValue":l[4]||(l[4]=e=>o(t).whetherOverstepSynopsis=e)},{default:s(()=>[(p(!0),L(C,null,I(o(T),(e,P)=>(p(),S(U,{key:e.value,value:e.value},{default:s(()=>[w(j(e.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])])]),_:1}),a(g,{label:"参考文献"},{default:s(()=>[a(D,{modelValue:o(t).reference,"onUpdate:modelValue":l[5]||(l[5]=e=>o(t).reference=e),placeholder:"请输入",type:"textarea",style:{width:"100%"},rows:3,maxlength:"1000","show-word-limit":""},null,8,["modelValue"])]),_:1}),a(g,{label:"提示内容"},{default:s(()=>[a(D,{modelValue:o(t).tipContent,"onUpdate:modelValue":l[6]||(l[6]=e=>o(t).tipContent=e),placeholder:"请输入",type:"textarea",style:{width:"100%"},rows:4,maxlength:"1000","show-word-limit":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])),[[M,o(r)]])]),_:1},8,["modelValue","title"])])}}}),he=ae(fe,[["__scopeId","data-v-6d09f21f"]]);export{he as default};
