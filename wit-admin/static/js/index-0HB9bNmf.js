var M=(_,w,d)=>new Promise((x,h)=>{var b=a=>{try{c(d.next(a))}catch(u){h(u)}},r=a=>{try{c(d.throw(a))}catch(u){h(u)}},c=a=>a.done?x(a.value):Promise.resolve(a.value).then(b,r);c((d=d.apply(_,w)).next())});import{d as T,M as K,u as ee,N,m,o as $,q,s as n,y as o,x as k,O as oe,H as F,P as te,a as se,f as ne,Q as ae,r as V,R as s,b as B,S as re,T as D,c as le,t as v,v as R,p as e,n as y,B as U,C as ie,U as de,V as E,W as ue,X as ce,Y as pe,I as me,J as _e,Z as fe,_ as ge}from"./index-9sA7DK8G.js";const he=T({name:"WitLanguage",__name:"index",setup(_){const{locale:w}=K(),d=ee(),x=N(),{changeLanguage:h}=x,b=r=>{h(r),w.value=r,document.title=oe(d.meta.title),(d.path==="/login"||d.path==="/register")&&location.reload()};return(r,c)=>{const a=F,u=m("el-dropdown-item"),f=m("el-dropdown-menu"),C=m("el-dropdown");return $(),q(C,{class:"witLanguage",onCommand:b},{dropdown:n(()=>[o(f,null,{default:n(()=>[o(u,{command:"zh"},{default:n(()=>[k("中文简体")]),_:1}),o(u,{command:"en"},{default:n(()=>[k("English")]),_:1})]),_:1})]),default:n(()=>[o(a,{icon:"ri-translate-2"})]),_:1})}}}),ve="/demo/wit-admin/static/png/left_img_2-Co9ctg17.png",we=_=>(me("data-v-3d418715"),_=_(),_e(),_),xe={class:"register-container"},be={class:"register-right-tools"},Ce={class:"register-form"},Ve=["src"],ye=we(()=>y("div",{class:"title"},"hello !",-1)),ke={class:"title-tips"},Ie=T({name:"Register",__name:"index",setup(_){const w=te("$baseConfirm"),d=se(),x=ne(),{setToken:h}=x,b=N(),{theme:r}=ae(b),c=V(!1),a=V(null),u=V(!1),f=V(null),C=V(s("获取验证码")),i=B({username:"",password:"",phone:"",verificationCode:""}),W=(p,t,l)=>{t===""?l(new Error(s("用户名不能为空"))):l()},j=(p,t,l)=>{de(t)?l():l(new Error(s("密码不能少于6位")))},z=(p,t,l)=>{E(t)?l():l(new Error(s("请输入正确的手机号")))},G=B({username:[{required:!0,trigger:"blur",message:s("请输入用户名")},{validator:W,trigger:"blur"}],phone:[{required:!0,trigger:"blur",message:s("请输入手机号")},{validator:z,trigger:"blur"}],password:[{required:!0,trigger:"blur",message:s("请输入密码")},{validator:j,trigger:"blur"}],phoneCode:[{required:!0,trigger:"blur",message:s("请输入手机验证码")}]}),H=()=>{if(!E(i.phone)){a.value.validateField("phone");return}u.value=!0;let p=60;f.value=ue(()=>{p>0?(p--,C.value=`${s("获取验证码 ")+p}s`):(clearInterval(f.value),C.value=s("获取验证码"),f.value=null,u.value=!1)},1e3)},J=()=>{a.value.validate(p=>M(this,null,function*(){if(p){c.value=!0;const{msg:t,data:{token:l}}=yield fe(i).catch(()=>{c.value=!1});w(`${t}，点击确定模拟进入拥有【admin】角色的首页`,null,()=>M(this,null,function*(){c.value=!1,h(l),yield d.push("/index")}))}}))};return re(()=>{clearInterval(f.value),f.value=null}),(p,t)=>{const l=he,O=ce,Q=pe,I=F,S=m("el-input"),P=m("el-form-item"),L=m("el-button"),X=m("router-link"),Y=m("el-form"),Z=D("focus"),A=D("throttle");return $(),le("div",xe,[v(y("div",be,[v(o(l,null,null,512),[[R,e(r).showLanguage]]),v(o(O,null,null,512),[[R,e(r).showColorPicker]]),v(o(Q,null,null,512),[[R,e(r).showDark]])],512),[[R,e(r).showLanguage||e(r).showColorPicker||e(r).showDark]]),y("div",Ce,[y("img",{alt:"",class:"left-img",src:e(ve)},null,8,Ve),o(Y,{ref_key:"formRef",ref:a,"label-position":"left",model:e(i),rules:e(G),onSubmit:t[4]||(t[4]=ie(()=>{},["prevent"]))},{default:n(()=>[ye,y("div",ke,U(e(s)("账号注册")),1),o(P,{prop:"username"},{default:n(()=>[v(($(),q(S,{modelValue:e(i).username,"onUpdate:modelValue":t[0]||(t[0]=g=>e(i).username=g),modelModifiers:{trim:!0},"auto-complete":"off",clearable:"",placeholder:e(s)("请输入用户名"),text:""},{prefix:n(()=>[o(I,{icon:"ri-user-line"})]),_:1},8,["modelValue","placeholder"])),[[Z]])]),_:1}),o(P,{prop:"phone"},{default:n(()=>[o(S,{modelValue:e(i).phone,"onUpdate:modelValue":t[1]||(t[1]=g=>e(i).phone=g),modelModifiers:{trim:!0},clearable:"",maxlength:"11",placeholder:e(s)("请输入手机号"),"show-word-limit":"",text:""},{prefix:n(()=>[o(I,{icon:"ri-smartphone-line"})]),_:1},8,["modelValue","placeholder"])]),_:1}),o(P,{prop:"phoneCode",style:{position:"relative"}},{default:n(()=>[o(S,{modelValue:e(i).phoneCode,"onUpdate:modelValue":t[2]||(t[2]=g=>e(i).phoneCode=g),modelModifiers:{trim:!0},placeholder:e(s)("请输入手机验证码"),text:""},{prefix:n(()=>[o(I,{icon:"ri-barcode-box-line"})]),_:1},8,["modelValue","placeholder"]),o(L,{class:"phone-code",disabled:e(u),type:"primary",onClick:H},{default:n(()=>[k(U(e(s)(e(C))),1)]),_:1},8,["disabled"])]),_:1}),o(P,{prop:"password"},{default:n(()=>[o(S,{modelValue:e(i).password,"onUpdate:modelValue":t[3]||(t[3]=g=>e(i).password=g),modelModifiers:{trim:!0},autocomplete:"new-password",clearable:"",placeholder:e(s)("请输入密码"),type:"password"},{prefix:n(()=>[o(I,{icon:"ri-lock-line"})]),_:1},8,["modelValue","placeholder"])]),_:1}),v(($(),q(L,{class:"register-btn",loading:e(c),"native-type":"submit",type:"primary"},{default:n(()=>[k(U(e(s)("注册")),1)]),_:1},8,["loading"])),[[A,J]]),o(X,{to:"/login"},{default:n(()=>[o(L,{style:{"margin-top":"20px","margin-left":"-10px"},type:"primary"},{default:n(()=>[k(U(e(s)("登录")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])])])}}}),Re=ge(Ie,[["__scopeId","data-v-3d418715"]]);export{Re as default};
