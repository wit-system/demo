var f=(y,g,o)=>new Promise((m,s)=>{var h=e=>{try{l(o.next(e))}catch(r){s(r)}},c=e=>{try{l(o.throw(e))}catch(r){s(r)}},l=e=>e.done?m(e.value):Promise.resolve(e.value).then(h,c);l((o=o.apply(y,g)).next())});import{i as M,a as P,_ as T}from"./sunyaICD10EditDetailDiag-zC57UHho.js";import{d as j,P as b,r as i,b as q,a0 as E,m as F,o as R,c as A,y as d,p as t,a6 as U,n as k,s as _,x as D,af as G,ag as H}from"./index-C3-31E46.js";import{_ as J}from"./index.vue_vue_type_style_index_0_lang-Rf1iYlx6.js";import"./ifComponent.vue_vue_type_style_index_0_lang-h1Ozx49r.js";import"./index-B93FDT35.js";import"./index.vue_vue_type_script_setup_true_lang-DLP8ok9d.js";import"./dict-Bt1K3r7e.js";const K={class:"auto-height-container"},O={class:"app-content padding-horizontal"},X={class:"app-pagination"},se=j({name:"SunyaICD10",__name:"index",setup(y){const g=b("$baseConfirm"),o=b("$baseMessage"),m=i([]),s=i(null),h=i([{field:"syIcdCode",title:"编码",minWidth:"120"},{field:"syIcdName",title:"编码名称",minWidth:"120"},{field:"remark",title:"备注",minWidth:"120"},{field:"extraCode",title:"附加码",minWidth:"120"},{field:"btns",title:"操作",align:"center",width:"120",fixed:"right",render:!0}]),c=i(!1),l=i(),e=i({searchQuick:{keyword:""}}),r=i(0),w=q({searchListButtons:[{label:"查 询",isShowLoading:!0,attrs:{type:"primary"},events:{click:v}},{label:"新 增",icon:"icon-xinzengdianpingjihua",attrs:{type:"warning"},events:{click:z}}],searchList:[{type:"searchQuick",field:"searchQuick",attrs:{width:180,placeholder:"请输入ICD10编码或名称",clearable:!0},events:{clear:v}}]});E(()=>{u()});function v(){l.value.search()}function u(){return f(this,null,function*(){c.value=!0;let a={pageNum:e.value.pageNum,pageSize:e.value.pageSize,keyword:e.value.searchQuick.keyword};const{data:n}=yield M(a);c.value=!1,r.value=n.total||0,m.value=n.records||[]})}function S(a){e.value.pageNum=a,u()}function x(a){e.value.pageNum=1,e.value.pageSize=a,u()}function z(){s.value.openDiag()}function N(a){s.value.openDiag(a)}function $(a){g("您确定要删除选中项吗",null,()=>f(this,null,function*(){const{msg:n}=yield P([a.id]);o(n,"success","hey"),yield u()}))}function B(){u()}return(a,n)=>{const I=J,C=F("el-button"),V=G,L=H,Q=T;return R(),A("div",K,[d(I,{ref_key:"refSearch",ref:l,modelValue:t(e),"onUpdate:modelValue":n[0]||(n[0]=p=>U(e)?e.value=p:null),"search-data":t(w),"search-name":"matchingTools-sunyaICD10",searching:t(c),onSearch:u,isCache:!1},null,8,["modelValue","search-data","searching"]),k("div",O,[d(V,{ref:"tableRef","table-name":"sunya-ICD10-table",loading:t(c),"table-data":t(m),columns:t(h)},{btns:_(p=>[d(C,{text:"",type:"primary",onClick:W=>N(p.row)},{default:_(()=>[D("编辑")]),_:2},1032,["onClick"]),d(C,{text:"",type:"primary",onClick:W=>$(p.row)},{default:_(()=>[D("删除")]),_:2},1032,["onClick"])]),_:1},8,["loading","table-data","columns"])]),k("div",X,[d(L,{"current-page":t(e).pageNum,"page-size":t(e).pageSize,total:t(r),onCurrentChange:S,onSizeChange:x},null,8,["current-page","page-size","total"])]),d(Q,{ref_key:"editDiag",ref:s,onCloseDiag:B},null,512)])}}});export{se as default};
