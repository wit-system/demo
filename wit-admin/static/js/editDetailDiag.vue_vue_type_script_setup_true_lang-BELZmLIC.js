var B=(U,c,s)=>new Promise((x,m)=>{var f=u=>{try{e(s.next(u))}catch(p){m(p)}},d=u=>{try{e(s.throw(u))}catch(p){m(p)}},e=u=>u.done?x(u.value):Promise.resolve(u.value).then(f,d);e((s=s.apply(U,c)).next())});import{d as G,r as b,b as H,m as r,o as A,q as I,s as n,y as t,x as _,p as o,c as q,F as w,A as E,a6 as J,ae as L,ah as K}from"./index-BN8uVNSO.js";import{e as O}from"./ageSetting-CE5UYMPk.js";const W=G({__name:"editDetailDiag",emits:["close-diag"],setup(U,{expose:c,emit:s}){const x=s,m=b(!1),f=b("新增"),d=b(null),e=H({id:"",name:"",minAge:null,minAgeUnit:"岁",maxAge:null,maxAgeUnit:"岁",status:"1",remark:""}),u={name:[{required:!0,message:"请输入人群类型",trigger:"blur"}]},p=[{title:"岁"},{title:"月"},{title:"天"}];function v(){m.value=!1,d.value.resetFields(),k()}function N(i){m.value=!0,i&&(e.id=i.id||"",e.name=i.name||"",e.minAge=i.minAge,e.minAgeUnit=i.minAgeUnit||"",e.maxAge=i.maxAge,e.maxAgeUnit=i.maxAgeUnit||"",e.status=i.status,e.remark=i.remark||"",f.value="编辑")}function z(){d.value.validate(i=>B(this,null,function*(){if(i){if((yield O(e)).resultCode!=1){L.error("操作失败！！");return}L.success("操作成功！！"),m.value=!1,d.value.resetFields(),k(),x("close-diag")}}))}function k(){e.id="",e.name="",e.minAge=null,e.minAgeUnit="岁",e.maxAge=null,e.maxAgeUnit="岁",e.status="1",e.remark="",f.value="新增"}return c({openDiag:N}),(i,a)=>{const y=r("el-input"),g=r("el-form-item"),M=r("el-input-number"),C=r("el-option"),F=r("el-select"),R=r("el-radio"),T=r("el-radio-group"),$=r("el-form"),D=r("el-button"),j=K;return A(),I(j,{modelValue:o(m),"onUpdate:modelValue":a[7]||(a[7]=l=>J(m)?m.value=l:null),"append-to-body":"","before-close":v,title:o(f),width:"720px"},{footer:n(()=>[t(D,{onClick:v},{default:n(()=>[_("取 消")]),_:1}),t(D,{type:"primary",onClick:z},{default:n(()=>[_("确 定")]),_:1})]),default:n(()=>[t($,{ref_key:"formRef",ref:d,"label-width":"120px",model:o(e),rules:u},{default:n(()=>[t(g,{label:"人群类型:",prop:"name"},{default:n(()=>[t(y,{modelValue:o(e).name,"onUpdate:modelValue":a[0]||(a[0]=l=>o(e).name=l),modelModifiers:{trim:!0},clearable:"",placeholder:"请输入人群类型",style:{width:"240px"}},null,8,["modelValue"])]),_:1}),t(g,{label:"最小年龄:"},{default:n(()=>[t(M,{modelValue:o(e).minAge,"onUpdate:modelValue":a[1]||(a[1]=l=>o(e).minAge=l),modelModifiers:{trim:!0},"controls-position":"right",min:0},null,8,["modelValue"]),t(F,{modelValue:o(e).minAgeUnit,"onUpdate:modelValue":a[2]||(a[2]=l=>o(e).minAgeUnit=l),modelModifiers:{trim:!0},clearable:"",filterable:"",placeholder:"单位",style:{width:"74px","margin-left":"8px"}},{default:n(()=>[(A(),q(w,null,E(p,(l,V)=>t(C,{key:V,label:l.title,value:l.title},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),t(g,{label:"最大年龄:"},{default:n(()=>[t(M,{modelValue:o(e).maxAge,"onUpdate:modelValue":a[3]||(a[3]=l=>o(e).maxAge=l),modelModifiers:{trim:!0},"controls-position":"right",min:0},null,8,["modelValue"]),t(F,{modelValue:o(e).maxAgeUnit,"onUpdate:modelValue":a[4]||(a[4]=l=>o(e).maxAgeUnit=l),modelModifiers:{trim:!0},clearable:"",filterable:"",placeholder:"单位",style:{width:"74px","margin-left":"8px"}},{default:n(()=>[(A(),q(w,null,E(p,(l,V)=>t(C,{key:V,label:l.title,value:l.title},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),t(g,{label:"有效性:"},{default:n(()=>[t(T,{modelValue:o(e).status,"onUpdate:modelValue":a[5]||(a[5]=l=>o(e).status=l)},{default:n(()=>[t(R,{value:"1"},{default:n(()=>[_("有效")]),_:1}),t(R,{value:"0"},{default:n(()=>[_("无效")]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(g,{label:"备注:"},{default:n(()=>[t(y,{modelValue:o(e).remark,"onUpdate:modelValue":a[6]||(a[6]=l=>o(e).remark=l),modelModifiers:{trim:!0},autosize:{minRows:4,maxRows:8},clearable:"",placeholder:"注意事项",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])}}});export{W as _};
