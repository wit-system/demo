var b=(r,h,d)=>new Promise((p,i)=>{var _=a=>{try{u(d.next(a))}catch(g){i(g)}},s=a=>{try{u(d.throw(a))}catch(g){i(g)}},u=a=>a.done?p(a.value):Promise.resolve(a.value).then(_,s);u((d=d.apply(r,h)).next())});import{an as O,d as w,aj as q,P as V,r as c,b as z,m as v,o as x,q as E,s as f,y as m,x as P,p as o,a6 as L,z as A,ah as G}from"./index-1fQ0gozz.js";import H from"./shapeProperties-CDfUtj0O.js";import Q from"./logisticsAttributes-D5IXUvCd.js";import{_ as K}from"./pharmaceuticalAttributes.vue_vue_type_script_setup_true_lang-CBscV-Tn.js";function W(r){return O({url:`/system/drug-base/${r.id}`,method:"post",data:r})}function D(r){return O({url:"/system/drug-base/put",method:"post",data:r})}const ne=w({__name:"AttributeGenericSpecifications",setup(r,{expose:h}){q();const d=V("$baseConfirm"),p=V("$baseMessage"),i=c(!1),_=c("药品属性设置"),s=c("1"),u=c(null),a=c(null),g=c(null),e=z({drugAdminExtension:{isHighPrice:"",isBidDrug:"",isBasicDrug:"",isTempPurchase:"",isMedicareSelfPaid:"",isThreeControl:"",isAllowSingleChMedReimbursement:"",isMedicareDrug:"",isDualChannel:"",isDangerDrug:"",isControlDrug:"",isBeltQuantityPurchase:"",isNationalPurchase:"",isNationalTalk:"",isMonitor:"",isImportantMonitor:"",isNationalImportantMonitor:""},drugCharacterExtension:{outerPackage:"",side:"",back:"",describe:"",front:""},drugLogisticsExtension:{barcode:"",barcodePic:""}});JSON.parse(JSON.stringify(e));function S(t){return b(this,null,function*(){i.value=!0,_.value=`${(t==null?void 0:t.generalName)||""}属性`;let{data:n}=yield W({id:t.id});Object.assign(e,n,{drugAdminExtension:n.drugAdminExtension&&JSON.stringify(n.drugAdminExtension)!="{}"?n.drugAdminExtension:e.drugAdminExtension,drugCharacterExtension:n.drugCharacterExtension&&JSON.stringify(n.drugCharacterExtension)!="{}"?n.drugCharacterExtension:e.drugCharacterExtension,drugLogisticsExtension:n.drugLogisticsExtension&&JSON.stringify(n.drugLogisticsExtension)!="{}"?n.drugLogisticsExtension:e.drugLogisticsExtension}),u.value.resetForm(e.drugAdminExtension)})}function M(){return b(this,null,function*(){let{msg:t}=yield D(e);l.value=!1,p(t,"success","hey")})}function k(){s.value="1",u.value.resetForm(),i.value=!1,l.value=!0}const l=c(!1);function R(t){e.drugAdminExtension=Object.assign({},e.drugAdminExtension,t),l.value=!0}function $(t){e.drugLogisticsExtension=Object.assign({},e.drugLogisticsExtension,t),l.value=!0}function B(t){e.drugCharacterExtension=Object.assign({},e.drugCharacterExtension,t),l.value=!0}function j(){l.value&&d("该页面暂未保存，是否需要保存",null,()=>b(this,null,function*(){let{msg:t}=yield D(e);l.value=!1,p(t,"success","hey")}),()=>!1)}return h({openDiag:S}),(t,n)=>{const C=v("el-tab-pane"),J=v("el-tabs"),U=K,T=Q,F=H,N=v("el-button"),I=G;return x(),E(I,{modelValue:o(i),"onUpdate:modelValue":n[1]||(n[1]=y=>L(i)?i.value=y:null),title:o(_),"append-to-body":"",width:"826px",onClose:k},{footer:f(()=>[m(N,{onClick:k},{default:f(()=>[P("取 消")]),_:1}),m(N,{type:"primary",onClick:M},{default:f(()=>[P("确 定")]),_:1})]),default:f(()=>[m(J,{class:"demo-tabs",modelValue:o(s),"onUpdate:modelValue":n[0]||(n[0]=y=>L(s)?s.value=y:null),"before-leave":j},{default:f(()=>[m(C,{label:"药政属性",name:"1"}),m(C,{label:"物流属性",name:"2"}),m(C,{label:"形状属性",name:"3"})]),_:1},8,["modelValue"]),o(s)=="1"?(x(),E(U,{key:0,ref_key:"pharmaceuticalAttributesRef",ref:u,form:o(e).drugAdminExtension,"onUpdate:modelValue":R},null,8,["form"])):A("",!0),o(s)=="2"?(x(),E(T,{key:1,ref_key:"logisticsAttributesRef",ref:a,form:o(e).drugLogisticsExtension,"onUpdate:formValue":$},null,8,["form"])):A("",!0),o(s)=="3"?(x(),E(F,{key:2,ref_key:"shapePropertiesRef",ref:g,form:o(e).drugCharacterExtension,"onUpdate:formValue":B},null,8,["form"])):A("",!0)]),_:1},8,["modelValue","title"])}}});export{ne as _};
