var J=(G,U,u)=>new Promise((L,N)=>{var C=y=>{try{m(u.next(y))}catch(E){N(E)}},O=y=>{try{m(u.throw(y))}catch(E){N(E)}},m=y=>y.done?L(y.value):Promise.resolve(y.value).then(C,O);m((u=u.apply(G,U)).next())});import{d as be,aj as fe,P as Z,r as x,b as A,bJ as _e,m as b,o as t,q as p,s as a,y as o,x as S,p as l,a6 as I,c as r,F as c,A as _,B as $,t as ee,v as ie,z as P,bd as le,av as ae,bK as ye,ah as me}from"./index-BNylXLUF.js";const Ce=be({__name:"AttributeGeneric",setup(G,{expose:U}){const u=fe(),L=Z("$baseConfirm"),N=Z("$baseMessage"),C=x(!1),O=x("药品属性设置"),m=x("1"),y=x(null),E=x(null),g=x(!1),n=A({drugClinicExtension:{},medClinicExtension:{},antibioticExtension:{}}),T=A({isAdjuvantDrug:"",isAnaleptic:"",isLvp:"",isToxic:"",isBloodProductsCheck:"",isPrecursorChemicals:"",isSkinTest:"",isPsychiatricCheck:"",isAntiTumor:"",isAnesthesia:"",isSlowReleaseControlAgent:"",isRadiation:"",isGlucocorticoid:"",isHospitalPreparation:"",isParenteralNutrition:"",isRmCheck:"",isHighRisk:"",isRescue:"",pregnancyTerm:"",isVaccines:"",isSingle:"",isExternalUse:"",isProtonPump:"",isPregnancy:"",isHormoneDrug:"",isChemotherapy:"",isAnticoagulant:"",isNationalCheck:"",isCoagulation:"",isNational:"",businessAttribute:"",isImmunosuppressant:"",isAntiarrhythmicDrug:"",isLowerLipids:"",isAntipsychotics:""}),R=A({isMedInjection:"",isMedToxic:""}),j=A({isAntibiotics:"",isAntibacterialEfficacy:"",antimicrobialEfficacy:"",antibacterialType:""});JSON.parse(JSON.stringify(n));const v=x(!1),q=x(""),w=_e(n,f=>{v.value=!0}),te=[{field:"isAdjuvantDrug",label:"辅助药品",span:12,type:"radio",dict:"is_or_not"},{field:"isAnaleptic",label:"含有兴奋剂",span:12,type:"radio",dict:"is_or_not"},{field:"isLvp",label:"大输液",span:12,type:"radio",dict:"is_or_not"},{field:"isToxic",label:"毒性药品",span:12,type:"radio",dict:"is_or_not"},{field:"isBloodProductsCheck",field2:"isBloodProducts",label:"血液制品",span:12,type:"radioSelect",dict:"is_albumin"},{field:"isPrecursorChemicals",label:"易制毒药",span:12,type:"radio",dict:"is_or_not"},{field:"isSkinTest",label:"需皮试",span:12,type:"radio",dict:"is_or_not"},{field:"isPsychiatricCheck",field2:"isPsychiatric",label:"精神类药物",span:12,type:"radioSelect",dict:"law_type"},{field:"isAntiTumor",field2:"antiTumorLevel",label:"抗肿瘤药物",span:12,type:"radioSelect",dict:"anti_tumor_level"},{field:"isAnesthesia",label:"麻醉类药物",span:12,type:"radio",dict:"is_or_not"},{field:"isSlowReleaseControlAgent",label:"缓释控制剂",span:12,type:"radio",dict:"is_or_not"},{field:"isRadiation",label:"放射药品",span:12,type:"radio",dict:"is_or_not"},{field:"isGlucocorticoid",label:"糖皮质激素",span:12,type:"radio",dict:"is_or_not"},{field:"isParenteralNutrition",label:"肠外营养液",span:12,type:"radio",dict:"is_or_not"},{field:"isRmCheck",field2:"isRm",label:"溶媒",span:12,type:"radioSelect",dict:"solvent_type"},{field:"isHighRisk",label:"高警示药品",span:12,type:"radio",dict:"is_or_not"},{field:"isHospitalPreparation",label:"院内制剂",span:12,type:"radio",dict:"is_or_not"},{field:"isRescue",label:"急抢救药品",span:12,type:"radio",dict:"is_or_not"},{field:"pregnancyTerm",label:"终止妊娠药",span:12,type:"radio",dict:"is_or_not"},{field:"isVaccines",label:"疫苗",span:12,type:"radio",dict:"is_or_not"},{field:"isSingle",label:"单品种药品",span:12,type:"radio",dict:"is_or_not"},{field:"isExternalUse",label:"外用药品",span:12,type:"radio",dict:"is_or_not"},{field:"isProtonPump",label:"质子泵抑制剂",span:12,type:"radio",dict:"is_or_not"},{field:"isPregnancy",label:"妊娠药品",span:12,type:"radio",dict:"is_or_not"},{field:"isHormoneDrug",label:"激素类药品",span:12,type:"radio",dict:"is_or_not"},{field:"isChemotherapy",label:"化疗用药",span:12,type:"radio",dict:"is_or_not"},{field:"isAnticoagulant",label:"抗凝药",span:12,type:"radio",dict:"is_or_not"},{field:"isNationalCheck",field2:"isNational",label:"民族药",span:12,type:"radioSelect",dict:"ethnomedicine_type"},{field:"isCoagulation",label:"促凝药",span:12,type:"radio",dict:"is_or_not"},{field:"businessAttribute",label:"业务属性",span:12,type:"select",dict:"drug_business_attribute"},{field:"isImmunosuppressant",label:"免疫抑制剂",span:12,type:"radio",dict:"is_or_not"},{field:"isAntiarrhythmicDrug",label:"抗心律失常药",span:12,type:"radio",dict:"is_or_not"},{field:"isLowerLipids",label:"降脂药",span:12,type:"radio",dict:"is_or_not"},{field:"isAntipsychotics",label:"抗精神病药",span:12,type:"radio",dict:"is_or_not"}],ne=[{field:"isMedToxic",label:"毒性药品等级",span:12,type:"radio",dict:"high_risk_lel"},{field:"isMedInjection",label:"中药注射剂",span:12,type:"radio",dict:"is_or_not"}],oe=[{field:"isAntibiotics",field2:"antibioticsType",label:"抗菌药物",span:12,type:"radioSelect",dict:"antibiotics_type"},{field:"isAntibacterialEfficacy",field2:"antimicrobialEfficacy",label:"抗菌药物药效",span:12,type:"radioSelect",dict:"antibacterial_drug_efficacy"},{field:"antibacterialType",label:"抗菌谱类型",span:12,type:"radio",dict:"antibacterial_spectrum_type"}];function z(){C.value=!1,Object.assign(n,{drugClinicExtension:JSON.parse(JSON.stringify(T)),medClinicExtension:JSON.parse(JSON.stringify(R)),antibioticExtension:JSON.parse(JSON.stringify(j))}),y.value.resetFields(),E.value.resetFields()}const K={drugClassFlag:""};function se(f){return J(this,null,function*(){Object.assign(K,f),w.pause(),C.value=!0,m.value="1",O.value=`${(f==null?void 0:f.generalName)||""}属性设置`,v.value=!1,q.value=f.id;const{data:s}=yield le({id:f.id});Object.assign(n,s,{drugClinicExtension:s.drugClinicExtension&&JSON.stringify(s.drugClinicExtension)!="{}"?s.drugClinicExtension:JSON.parse(JSON.stringify(T)),medClinicExtension:s.medClinicExtension&&JSON.stringify(s.medClinicExtension)!="{}"?s.medClinicExtension:JSON.parse(JSON.stringify(R)),antibioticExtension:s.antibioticExtension&&JSON.stringify(s.antibioticExtension)!="{}"?s.antibioticExtension:JSON.parse(JSON.stringify(j))}),yield ae(),w.resume()})}function de(f,s){v.value&&L("该页面暂未保存，是否需要保存",null,()=>{Q()},()=>J(this,null,function*(){w.pause(),v.value=!1;const{data:d}=yield le({id:q.value});Object.assign(n,d,{drugClinicExtension:d.drugClinicExtension&&JSON.stringify(d.drugClinicExtension)!="{}"?d.drugClinicExtension:JSON.parse(JSON.stringify(T)),medClinicExtension:d.medClinicExtension&&JSON.stringify(d.medClinicExtension)!="{}"?d.medClinicExtension:JSON.parse(JSON.stringify(R)),antibioticExtension:d.antibioticExtension&&JSON.stringify(d.antibioticExtension)!="{}"?d.antibioticExtension:JSON.parse(JSON.stringify(j))}),yield ae(),w.resume()}))}function re(){Q()}function Q(){return J(this,null,function*(){const{msg:f}=yield ye(n);v.value=!1,N(f,"success","hey")})}return U({openDiag:se}),(f,s)=>{const d=b("el-radio"),V=b("el-radio-group"),D=b("el-option"),B=b("el-select"),M=b("el-form-item"),F=b("el-col"),H=b("el-row"),ce=b("el-divider"),W=b("el-form"),X=b("el-tab-pane"),ue=b("el-tabs"),Y=b("el-button"),pe=me;return t(),p(pe,{modelValue:l(C),"onUpdate:modelValue":s[1]||(s[1]=e=>I(C)?C.value=e:null),title:l(O),"append-to-body":"",width:"826px","before-close":z},{footer:a(()=>[o(Y,{onClick:z},{default:a(()=>[S("取 消")]),_:1}),o(Y,{type:"primary",onClick:re},{default:a(()=>[S("保 存")]),_:1})]),default:a(()=>[o(ue,{class:"demo-tabs",modelValue:l(m),"onUpdate:modelValue":s[0]||(s[0]=e=>I(m)?m.value=e:null),onTabClick:de},{default:a(()=>[o(X,{label:"临床属性",name:"1"},{default:a(()=>[o(W,{ref_key:"formRefLc",ref:y,"label-width":"92px",model:l(n)},{default:a(()=>[o(H,null,{default:a(()=>[(t(),r(c,null,_(te,(e,k)=>o(F,{key:k,span:e.span},{default:a(()=>[o(M,{label:e.label,prop:e.field},{default:a(()=>[e.type=="radio"?(t(),p(V,{key:0,modelValue:l(n).drugClinicExtension[e.field],"onUpdate:modelValue":i=>l(n).drugClinicExtension[e.field]=i,disabled:l(g)},{default:a(()=>[(t(!0),r(c,null,_(l(u).wordbook[e.dict],i=>(t(),p(d,{key:i.value,value:i.dictValue},{default:a(()=>[S($(i.dictLabel),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])):e.type=="radioSelect"?(t(),r(c,{key:1},[o(V,{modelValue:l(n).drugClinicExtension[e.field],"onUpdate:modelValue":i=>l(n).drugClinicExtension[e.field]=i,disabled:l(g),style:{"margin-right":"8px"}},{default:a(()=>[(t(!0),r(c,null,_(l(u).wordbook.is_or_not,i=>(t(),p(d,{key:i.value,value:i.dictValue},{default:a(()=>[S($(i.dictLabel),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"]),ee(o(B,{modelValue:l(n).drugClinicExtension[e.field2],"onUpdate:modelValue":i=>l(n).drugClinicExtension[e.field2]=i,clearable:"",disabled:l(g),placeholder:"请选择",style:{width:"120px"}},{default:a(()=>[(t(!0),r(c,null,_(l(u).wordbook[e.dict],(i,h)=>(t(),p(D,{key:h,label:i.dictLabel,value:i.dictValue},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"]),[[ie,l(n).drugClinicExtension[e.field]=="1"]])],64)):e.type=="select"?(t(),p(B,{key:2,modelValue:l(n).drugClinicExtension[e.field],"onUpdate:modelValue":i=>l(n).drugClinicExtension[e.field]=i,clearable:"",disabled:l(g),placeholder:"请选择",style:{width:"120px"}},{default:a(()=>[(t(!0),r(c,null,_(l(u).wordbook[e.dict],(i,h)=>(t(),p(D,{key:h,label:i.dictLabel,value:i.dictValue},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])):P("",!0)]),_:2},1032,["label","prop"])]),_:2},1032,["span"])),64))]),_:1}),K.drugClassFlag=="3"?(t(),r(c,{key:0},[o(ce,{"border-style":"dashed"}),o(H,null,{default:a(()=>[(t(),r(c,null,_(ne,(e,k)=>o(F,{key:k,span:e.span},{default:a(()=>[o(M,{label:e.label,prop:e.field},{default:a(()=>[e.type=="radio"?(t(),p(V,{key:0,modelValue:l(n).medClinicExtension[e.field],"onUpdate:modelValue":i=>l(n).medClinicExtension[e.field]=i,disabled:l(g)},{default:a(()=>[(t(!0),r(c,null,_(l(u).wordbook[e.dict],i=>(t(),p(d,{key:i.value,value:i.dictValue},{default:a(()=>[S($(i.dictLabel),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])):P("",!0)]),_:2},1032,["label","prop"])]),_:2},1032,["span"])),64))]),_:1})],64)):P("",!0)]),_:1},8,["model"])]),_:1}),o(X,{label:"抗菌药物属性",name:"2"},{default:a(()=>[o(W,{ref_key:"formRefkjy",ref:E,"label-width":"92px",model:l(n)},{default:a(()=>[o(H,null,{default:a(()=>[(t(),r(c,null,_(oe,(e,k)=>o(F,{key:k,span:e.span},{default:a(()=>[o(M,{label:e.label,prop:e.field},{default:a(()=>[e.type=="radio"?(t(),p(V,{key:0,modelValue:l(n).antibioticExtension[e.field],"onUpdate:modelValue":i=>l(n).antibioticExtension[e.field]=i,disabled:l(g)},{default:a(()=>[(t(!0),r(c,null,_(l(u).wordbook[e.dict],i=>(t(),p(d,{key:i.value,label:i.dictLabel,value:i.dictValue},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])):e.type=="radioSelect"?(t(),r(c,{key:1},[o(V,{modelValue:l(n).antibioticExtension[e.field],"onUpdate:modelValue":i=>l(n).antibioticExtension[e.field]=i,disabled:l(g),style:{"margin-right":"8px"}},{default:a(()=>[(t(!0),r(c,null,_(l(u).wordbook.is_or_not,i=>(t(),p(d,{key:i.value,label:i.dictLabel,value:i.dictValue},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"]),ee(o(B,{modelValue:l(n).antibioticExtension[e.field2],"onUpdate:modelValue":i=>l(n).antibioticExtension[e.field2]=i,clearable:"",disabled:l(g),placeholder:"请选择",style:{width:"120px"}},{default:a(()=>[(t(!0),r(c,null,_(l(u).wordbook[e.dict],(i,h)=>(t(),p(D,{key:h,label:i.dictLabel,value:i.dictValue},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"]),[[ie,l(n).antibioticExtension[e.field]=="1"]])],64)):P("",!0)]),_:2},1032,["label","prop"])]),_:2},1032,["span"])),64))]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue","title"])}}});export{Ce as _};
