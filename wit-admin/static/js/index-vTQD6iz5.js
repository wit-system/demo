import{d as D,aj as z,r as o,b as V,a0 as B,ae as $,m as O,o as W,c as F,y as l,p as t,a6 as R,n as b,s as d,B as j,x as q,af as E,ag as J}from"./index-BNylXLUF.js";import{_ as M}from"./index.vue_vue_type_style_index_0_lang-CQ0LplO3.js";import{g as P,_ as T}from"./editDetailDiag.vue_vue_type_script_setup_true_lang-DEjGKHk1.js";import"./ifComponent.vue_vue_type_style_index_0_lang-CZbArpmd.js";import"./index-7iMDeE21.js";import"./index.vue_vue_type_script_setup_true_lang-DuUJu87k.js";import"./dict-C-0c6999.js";const U={class:"department-management-container auto-height-container"},A={class:"flex-all padding-horizontal"},ae=D({__name:"index",setup(G){const c=z(),u=o(!1),g=o([]),m=o(0),a=o({drugLabeling:"",basis:""}),w=o([{field:"id",title:"主编码",minWidth:"120"},{field:"basis",title:"药品主要成份",minWidth:"120"},{field:"usageDosage",title:"用法用量",minWidth:"120"},{field:"contraindication",title:"禁忌证",minWidth:"120"},{field:"drugLabeling",title:"中西药标识",minWidth:"140",render:!0},{field:"btns",title:"操作",align:"center",width:"80",fixed:"right",render:!0}]),v=V({searchListButtons:[{label:"搜 索",isShowLoading:!0,attrs:{type:"primary"},events:{click:h}},{label:"新增",icon:"icon-xinzengdianpingjihua",isShowLoading:!0,attrs:{type:"warning",plain:!0},events:{click:()=>_("")}}],searchList:[{type:"input",field:"basis",label:"药品主要成份",isOutBorder:!0,attrs:{width:130,placeholder:"请输入",clearable:!0}},{type:"select",field:"drugLabeling",label:"中西药标识",valueField:"dictValue",labelField:"dictLabel",isOutBorder:!0,attrs:{width:130,placeholder:"请选择",clearable:!0},options:c.wordbook.sys_chinese_western_medication,events:{clear:h}}],otherSearchList:[]}),p=o(null);function h(){p.value.search()}const f=o(null);function _(e){f.value.openDiag(e)}function y(e){if(!c.wordbook.sys_chinese_western_medication)return;const n=c.wordbook.sys_chinese_western_medication.map(i=>i.dictValue);return c.wordbook.sys_chinese_western_medication[n.indexOf(`${e}`)].dictLabel}B(()=>{r(1)});function r(e){e&&typeof e=="number"?a.value.pageNum=e:a.value.pageNum=1;const n=JSON.parse(JSON.stringify(a.value));n.drugLabeling=n.drugLabeling,P(n).then(i=>{if(i.resultCode!="1"){$.error("查询失败！！");return}m.value=i.data.total||0,g.value=i.data.records||[]})}function L(e){a.value.pageNum=e,r(a.value.pageNum)}function S(e){a.value.pageSize=e,r(1)}function C(){r(1)}return(e,n)=>{const i=M,x=O("el-button"),k=E,N=J;return W(),F("div",U,[l(i,{ref_key:"witSearchRef",ref:p,modelValue:t(a),"onUpdate:modelValue":n[0]||(n[0]=s=>R(a)?a.value=s:null),"search-data":t(v),"search-name":"matching-tools-primary-encoding-search",searching:t(u),border:!1,onSearch:r,isCache:!1},null,8,["modelValue","search-data","searching"]),b("div",A,[l(k,{ref:"tableRef","table-name":"matching-tools-primary-encoding-table",loading:t(u),"table-data":t(g),columns:t(w)},{drugLabeling:d(s=>[b("span",null,j(y(s.row.drugLabeling)),1)]),btns:d(s=>[l(x,{text:"",type:"primary",onClick:H=>_(s.row)},{default:d(()=>[q("修改")]),_:2},1032,["onClick"])]),_:1},8,["loading","table-data","columns"])]),l(N,{"current-page":t(a).pageNum,"page-size":t(a).pageSize,total:t(m),"prev-text":"上一页","next-text":"下一页",onCurrentChange:L,onSizeChange:S},null,8,["current-page","page-size","total"]),l(T,{ref_key:"editDiag",ref:f,onCloseDiag:C},null,512)])}}});export{ae as default};
