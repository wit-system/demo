var C=(_,h,s)=>new Promise((r,g)=>{var p=a=>{try{m(s.next(a))}catch(l){g(l)}},e=a=>{try{m(s.throw(a))}catch(l){g(l)}},m=a=>a.done?r(a.value):Promise.resolve(a.value).then(p,e);m((s=s.apply(_,h)).next())});import{d as M,P as y,r as o,b as I,a0 as P,ae as j,m as E,o as T,c as q,y as d,p as n,a6 as F,n as x,s as f,B as O,x as S,af as U,ag as W}from"./index-BNylXLUF.js";import{_ as A}from"./index.vue_vue_type_style_index_0_lang-CQ0LplO3.js";import{_ as G}from"./editDetailDiag.vue_vue_type_script_setup_true_lang-DoSAmU2n.js";import{g as H,d as J}from"./compositionSetting-CRfAIhYX.js";import"./ifComponent.vue_vue_type_style_index_0_lang-CZbArpmd.js";import"./index-7iMDeE21.js";import"./index.vue_vue_type_script_setup_true_lang-DuUJu87k.js";import"./dict-C-0c6999.js";const K={class:"department-management-container auto-height-container"},Q={class:"flex-all padding-horizontal"},se=M({__name:"index",setup(_){const h=y("$baseConfirm"),s=y("$baseMessage"),r=o(!1),g=o([]),p=o(0),e=o({ingredient:""}),m=o([{field:"ingredient",title:"成份名",minWidth:"120"},{field:"cosmeticIngredient",title:"成份标识",width:"120",render:!0},{field:"btns",title:"操作",align:"center",width:"140",fixed:"right",render:!0}]),a=I({searchListButtons:[{label:"搜 索",field:"ingredient",isShowLoading:!0,attrs:{type:"primary"},events:{click:k}},{label:"新增",icon:"icon-xinzengdianpingjihua",isShowLoading:!0,attrs:{type:"warning",plain:!0},events:{click:()=>v("")}}],searchList:[{type:"input",field:"ingredient",label:"成份名",isOutBorder:!0,attrs:{width:180,placeholder:"请输入",clearable:!0}}],otherSearchList:[]}),l=o(null);function k(){l.value.search()}const b=o(null);function v(t){b.value.openDiag(t)}function $(t){h("您确定要删除选中项吗",null,()=>C(this,null,function*(){const{msg:i}=yield J(t.id);s(i,"success","hey"),yield c(1)}))}P(()=>{c(1)});function c(t){r.value=!0,t&&typeof t=="number"?e.value.pageNum=t:e.value.pageNum=1,H(e.value).then(i=>{if(r.value=!1,i.resultCode!="1"){j.error("查询失败！！");return}p.value=i.data.total||0,g.value=i.data.records||[]})}function z(t){e.value.pageNum=t,c(e.value.pageNum)}function D(t){e.value.pageSize=t,c(1)}function L(){c(1)}return(t,i)=>{const N=A,w=E("el-button"),B=U,R=W;return T(),q("div",K,[d(N,{ref_key:"witSearchRef",ref:l,modelValue:n(e),"onUpdate:modelValue":i[0]||(i[0]=u=>F(e)?e.value=u:null),"is-cache":!1,"search-data":n(a),"search-name":"matching-tools-composition-setting-search",searching:n(r),border:!1,onSearch:c},null,8,["modelValue","search-data","searching"]),x("div",Q,[d(B,{ref:"tableRef","table-name":"matching-tools-age-setting-table",loading:n(r),"table-data":n(g),columns:n(m)},{cosmeticIngredient:f(u=>[x("span",null,O(u.row.cosmeticIngredient===1?"兴奋剂":"其他"),1)]),btns:f(u=>[d(w,{text:"",type:"primary",onClick:V=>v(u.row)},{default:f(()=>[S("修改")]),_:2},1032,["onClick"]),d(w,{text:"",type:"primary",onClick:V=>$(u.row)},{default:f(()=>[S("删除")]),_:2},1032,["onClick"])]),_:1},8,["loading","table-data","columns"])]),d(R,{"current-page":n(e).pageNum,"page-size":n(e).pageSize,total:n(p),"prev-text":"上一页","next-text":"下一页",onCurrentChange:z,onSizeChange:D},null,8,["current-page","page-size","total"]),d(G,{ref_key:"editDiag",ref:b,onCloseDiag:L},null,512)])}}});export{se as default};
