var b=(n,m,i)=>new Promise((r,u)=>{var d=t=>{try{l(i.next(t))}catch(c){u(c)}},p=t=>{try{l(i.throw(t))}catch(c){u(c)}},l=t=>t.done?r(t.value):Promise.resolve(t.value).then(d,p);l((i=i.apply(n,m)).next())});import{T as x,E as V}from"./style-doqH4jKF.js";import{u as C,p as E}from"./fileUpload-CpIuWZku.js";import{d as I,r as g,aV as S,b as B,at as L,l as j,o as k,c as N,y,p as a,a6 as U,ap as K,ae as T,a_ as w,_ as z}from"./index-BN8uVNSO.js";const F={style:{"margin-top":"8px",border:"1px solid var(--el-color-border)","border-radius":"4px"}},M=I({name:"WangEditor",__name:"index",props:{modelValue:{type:String,default:""},isPic:{type:Boolean,default:!0},simple:{type:Boolean,default:!1},height:{type:Number,default:""}},emits:["update:modelValue"],setup(n,{expose:m,emit:i}){const r=n,u=g("default"),d=g(null),l=S(r,"modelValue",i),t=B({file:null,bucketCode:"99"}),c=e=>{d.value=e};let f={toolbarKeys:["headerSelect","bold","italic","through","underline","bulletedList","numberedList","color","insertLink","fontSize","lineHeight","uploadImage","uploadVideo","delIndent","indent","deleteImage","divider","insertTable","justifyCenter","justifyJustify","justifyLeft","justifyRight","undo","redo","clearStyle","fullScreen"]};r.isPic||(f.toolbarKeys=f.toolbarKeys.filter(e=>["uploadImage","deleteImage","uploadVideo"].indexOf(e)===-1)),r.simple&&(f.toolbarKeys=["bold","underline","through","justifyLeft","undo","redo"]);const h={placeholder:"请输入内容...",MENU_CONF:{uploadImage:{base64LimitSize:5*1024,allowedFileTypes:["image/*"],customUpload(e,o){return b(this,null,function*(){try{let s="";t.file=e,C(t).then(function(v){s=v.data.id,o(E(s),"",s),T({type:"success",message:"上传附件成功！"})})}catch(s){w.error("上传附件失败！")}})}}}};L(()=>{const e=d.value;e!=null&&e.destroy()});const _=e=>{const o=d.value;o!=null&&(o.disable(),e?o.disable():o.enable())};return j(l,e=>{}),m({disable:_}),(e,o)=>(k(),N("div",F,[y(a(x),{"default-config":a(f),editor:a(d),mode:a(u),style:{"border-bottom":"1px solid var(--el-color-border)"}},null,8,["default-config","editor","mode"]),y(a(V),{modelValue:a(l),"onUpdate:modelValue":o[0]||(o[0]=s=>U(l)?l.value=s:null),"default-config":h,mode:a(u),style:K([{"min-height":"60px"},{height:n.height?`${n.height-51}px`:"auto"}]),onOnCreated:c},null,8,["modelValue","mode","style"])]))}}),H=z(M,[["__scopeId","data-v-23cb6a79"]]);export{H as default};
