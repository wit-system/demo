var $=(k,f,s)=>new Promise((c,r)=>{var _=a=>{try{p(s.next(a))}catch(d){r(d)}},w=a=>{try{p(s.throw(a))}catch(d){r(d)}},p=a=>a.done?c(a.value):Promise.resolve(a.value).then(_,w);p((s=s.apply(k,f)).next())});import{d as z,g as A,_ as L}from"./MenuManagementEdit-fwuzw0qv.js";import{_ as R}from"./index-BOVWkMYg.js";import{_ as F,a as H}from"./witQueryFormTopPanel-BJ4VFzMU.js";import{d as P,P as D,r as v,h as S,m as h,T as G,o as m,c as b,y as e,s as t,t as J,q as N,p as B,z as K,x as y,n as O,ai as Q,H as U}from"./index-CmC8Jr0A.js";import"./index.vue_vue_type_style_index_0_lang-DGbCLadt.js";const W={class:"menu-management-container no-background-container auto-height-container"},X=O("span",null,"添加",-1),Y={key:0},Z={key:1},ie=P({name:"MenuManagement",__name:"index",setup(k){const f=D("$baseConfirm"),s=D("$baseMessage"),c=v(null),r=v([]),_=v(!0),w=(n,o)=>{c.value.showEdit(n,o)},p=(n={},o)=>{c.value.showEdit(n,o)},a=(n={},o)=>{c.value.showEdit(n,o)},d=(n={})=>{f("您确定要删除当前项吗",null,()=>$(this,null,function*(){const{msg:o}=yield z(n);s(o,"success","hey"),yield g()}))},g=()=>{_.value=!0,A().then(n=>{r.value=Q(n.data,"menuId","parentId","children"),_.value=!1})};return S(()=>{g()}),(n,o)=>{const C=U,u=h("el-button"),E=F,M=H,l=h("el-table-column"),T=h("el-empty"),V=h("el-table"),q=R,I=L,j=G("loading");return m(),b("div",W,[e(q,{class:"auto-height-card"},{default:t(()=>[e(M,null,{default:t(()=>[e(E,{span:12},{default:t(()=>[e(u,{plain:"",type:"warning",onClick:o[0]||(o[0]=i=>w("",1))},{default:t(()=>[e(C,{icon:"icon-xinzengdianpingjihua"}),X]),_:1})]),_:1})]),_:1}),J((m(),N(V,{border:"",data:B(r),"row-key":"path","tree-props":{children:"children",hasChildren:"hasChildren"}},{empty:t(()=>[e(T,{class:"wit-data-empty",description:"暂无数据"})]),default:t(()=>[e(l,{align:"left",label:"菜单名称","min-width":"140",prop:"menuName","show-overflow-tooltip":""}),e(l,{align:"center",label:"图标"},{default:t(({row:i})=>[i.icon?(m(),N(C,{key:0,icon:i.icon},null,8,["icon"])):K("",!0)]),_:1}),e(l,{align:"center",label:"排序","min-width":"120",prop:"orderNum","show-overflow-tooltip":""}),e(l,{align:"center",label:"权限标识","min-width":"120",prop:"perms","show-overflow-tooltip":""}),e(l,{align:"center",label:"路由地址","min-width":"140",prop:"path","show-overflow-tooltip":""}),e(l,{align:"center",label:"组件路径","min-width":"140",prop:"component","show-overflow-tooltip":""}),e(l,{align:"center",label:"状态","min-width":"120",prop:"status","show-overflow-tooltip":""},{default:t(({row:i})=>[i.status==="0"?(m(),b("span",Y,"启用")):(m(),b("span",Z,"停用"))]),_:1}),e(l,{align:"center",label:"创建时间","min-width":"120",prop:"createTime","show-overflow-tooltip":""}),e(l,{align:"center",label:"操作",width:"220",fixed:"right"},{default:t(({row:i})=>[e(u,{text:"",type:"primary",onClick:x=>a(i,3)},{default:t(()=>[y("添加子菜单")]),_:2},1032,["onClick"]),e(u,{text:"",type:"primary",onClick:x=>p(i,2)},{default:t(()=>[y("编辑")]),_:2},1032,["onClick"]),e(u,{text:"",type:"primary",onClick:x=>d(i)},{default:t(()=>[y("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[j,B(_)]])]),_:1}),e(I,{ref_key:"editRef",ref:c,onFetchData:g},null,512)])}}});export{ie as default};
