import{an as u,d as E,r as c,b,m as p,o as K,q as k,s as d,y as a,x as y,p as o,t as B,n as M,v as S,a6 as $,ae as V,ah as I,_ as q}from"./index-1fQ0gozz.js";function G(l){return u({url:`/system/third-login/page?pageNum=${l.pageNum}&pageSize=${l.pageSize}`,method:"post",data:l})}function z(l){return u({url:"/system/third-login/",method:"post",data:l})}function R(l){return u({url:"/system/third-login/put",method:"post",data:l})}function j(l){return u({url:`/system/third-login/${l}`,method:"get"})}function J(l){return u({url:`/system/third-login/put/${l}`,method:"post"})}function L(l){return u({url:"/system/third-login/del-batch",method:"post",data:l})}const F=E({name:"ThirdManagementEdit",__name:"ThirdManagementEdit",emits:["fetch-data"],setup(l,{expose:C,emit:H}){const N=H,_=c(null),h=c(!1),e=b({id:void 0,hosHospCode:"",hosHospName:"",secretKey:"",sunyaCode:"",effectiveDuration:"",status:""}),w=b({hosHospCode:[{required:!0,trigger:"blur",message:"请输入医院编码"}],hosHospName:[{required:!0,trigger:"blur",message:"请输入医院名称"}]}),v=c(""),i=c(!1);C({showEdit:r=>{i.value=!0,r?(v.value="编辑授权",h.value=!0,j(r.id).then(t=>{e.id=t.data.id,e.hosHospCode=t.data.hosHospCode,e.hosHospName=t.data.hosHospName,e.secretKey=t.data.secretKey,e.sunyaCode=t.data.sunyaCode,e.status=t.data.status,e.effectiveDuration=t.data.effectiveDuration,e.createTime=t.data.createTime,e.createName=t.data.createName})):(v.value="添加授权",h.value=!1)}});const f=()=>{_.value.resetFields(),e.postIds=[],e.roleIds=[],N("fetch-data"),i.value=!1},x=()=>{_.value.validate(r=>{r&&(e.id===void 0?z(e).then(()=>{V.success("新增成功"),f()}):R(e).then(()=>{V.success("更改成功"),f()}))})};return(r,t)=>{const m=p("el-input"),n=p("el-form-item"),D=p("el-switch"),T=p("el-form"),g=p("el-button"),U=I;return K(),k(U,{modelValue:o(i),"onUpdate:modelValue":t[6]||(t[6]=s=>$(i)?i.value=s:null),"append-to-body":"",title:o(v),width:"830px",onClose:f},{footer:d(()=>[a(g,{onClick:f},{default:d(()=>[y("取 消")]),_:1}),a(g,{type:"primary",onClick:x},{default:d(()=>[y("确 定")]),_:1})]),default:d(()=>[a(T,{ref_key:"formRef",ref:_,inline:"","label-width":"140px",model:o(e),rules:o(w)},{default:d(()=>[a(n,{label:"医院编码",prop:"hosHospCode"},{default:d(()=>[a(m,{modelValue:o(e).hosHospCode,"onUpdate:modelValue":t[0]||(t[0]=s=>o(e).hosHospCode=s),clearable:""},null,8,["modelValue"])]),_:1}),a(n,{label:"医院名称",prop:"hosHospName"},{default:d(()=>[a(m,{modelValue:o(e).hosHospName,"onUpdate:modelValue":t[1]||(t[1]=s=>o(e).hosHospName=s),clearable:""},null,8,["modelValue"])]),_:1}),B(M("div",null,[a(n,{label:"加密密钥",prop:"secretKey"},{default:d(()=>[a(m,{modelValue:o(e).secretKey,"onUpdate:modelValue":t[2]||(t[2]=s=>o(e).secretKey=s),clearable:"",disabled:o(e).id!=null},null,8,["modelValue","disabled"])]),_:1}),a(n,{label:"加授权码",prop:"sunyaCode"},{default:d(()=>[a(m,{modelValue:o(e).sunyaCode,"onUpdate:modelValue":t[3]||(t[3]=s=>o(e).sunyaCode=s),clearable:"",disabled:o(e).id!=null},null,8,["modelValue","disabled"])]),_:1})],512),[[S,o(h)]]),a(n,{label:"令牌有效期",prop:"effectiveDuration"},{default:d(()=>[a(m,{modelValue:o(e).effectiveDuration,"onUpdate:modelValue":t[4]||(t[4]=s=>o(e).effectiveDuration=s),clearable:""},null,8,["modelValue"])]),_:1}),a(n,{label:"状态"},{default:d(()=>[a(D,{modelValue:o(e).status,"onUpdate:modelValue":t[5]||(t[5]=s=>o(e).status=s),"active-value":"1","inactive-value":"0"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}}),O=q(F,[["__scopeId","data-v-aa014e00"]]),Q=Object.freeze(Object.defineProperty({__proto__:null,default:O},Symbol.toStringTag,{value:"Module"}));export{Q as T,O as _,G as a,R as b,L as d,J as p};
