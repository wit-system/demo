var y=(v,_,r)=>new Promise((g,t)=>{var c=o=>{try{e(r.next(o))}catch(m){t(m)}},d=o=>{try{e(r.throw(o))}catch(m){t(m)}},e=o=>o.done?g(o.value):Promise.resolve(o.value).then(c,d);e((r=r.apply(v,_)).next())});import{d as w,r as p,b as B,m as u,o as N,q as h,s as l,y as n,x as C,p as s,a6 as E,ae as I,ah as L}from"./index-BN8uVNSO.js";import{e as T,a as $}from"./compositionSetting-g8ZuEmQZ.js";const G=w({__name:"editDetailDiag",emits:["close-diag"],setup(v,{expose:_,emit:r}){const g=r,t=p(!1),c=p("新增"),d=p(null),e=B({id:"",ingredient:"",cosmeticIngredient:""});p([]);const o={ingredient:[{required:!0,message:"请输入成份",trigger:"blur"}]};function m(){t.value=!1,d.value.resetFields(),b()}function k(i){t.value=!0,i&&(e.id=i.id||"",e.ingredient=i.ingredient||"",e.cosmeticIngredient=i.cosmeticIngredient||"",c.value="编辑")}function D(){d.value.validate(i=>y(this,null,function*(){if(i){if((yield e.id?T(e):$(e)).resultCode!=1){I.error("操作失败！！");return}I.success("操作成功！！"),t.value=!1,d.value.resetFields(),b(),g("close-diag")}}))}function b(){e.id="",e.ingredient="",e.cosmeticIngredient="",c.value="新增"}return _({openDiag:k}),(i,a)=>{const F=u("el-input"),V=u("el-form-item"),M=u("el-option"),R=u("el-select"),U=u("el-form"),x=u("el-button"),q=L;return N(),h(q,{modelValue:s(t),"onUpdate:modelValue":a[2]||(a[2]=f=>E(t)?t.value=f:null),"append-to-body":"","before-close":m,title:s(c),width:"720px"},{footer:l(()=>[n(x,{onClick:m},{default:l(()=>[C("取 消")]),_:1}),n(x,{type:"primary",onClick:D},{default:l(()=>[C("确 定")]),_:1})]),default:l(()=>[n(U,{ref_key:"formRef",ref:d,"label-width":"120px",model:s(e),rules:o},{default:l(()=>[n(V,{label:"成份名:",prop:"ingredient"},{default:l(()=>[n(F,{modelValue:s(e).ingredient,"onUpdate:modelValue":a[0]||(a[0]=f=>s(e).ingredient=f),modelModifiers:{trim:!0},clearable:"",placeholder:"请输入成份"},null,8,["modelValue"])]),_:1}),n(V,{label:"成份标识:"},{default:l(()=>[n(R,{modelValue:s(e).cosmeticIngredient,"onUpdate:modelValue":a[1]||(a[1]=f=>s(e).cosmeticIngredient=f),modelModifiers:{trim:!0},clearable:"",placeholder:"请选择成份标识"},{default:l(()=>[n(M,{label:"兴奋剂",value:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])}}});export{G as _};
