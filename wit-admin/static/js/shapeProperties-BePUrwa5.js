var V=(n,w,u)=>new Promise((m,c)=>{var b=e=>{try{d(u.next(e))}catch(f){c(f)}},v=e=>{try{d(u.throw(e))}catch(f){c(f)}},d=e=>e.done?m(e.value):Promise.resolve(e.value).then(b,v);d((u=u.apply(n,w)).next())});import{d as E,P as J,r as C,b as M,l as R,a0 as q,m as r,o as p,c as _,n as i,F as G,A as H,B as K,y as l,s as g,p as o,C as I,z as Q,a6 as T,ah as W,I as X,J as Y,_ as Z}from"./index-CmC8Jr0A.js";import{p as j,u as ee}from"./fileUpload-XyOau-In.js";const F=n=>(X("data-v-9cddb147"),n=n(),Y(),n),se={class:"image-line"},te={class:"upload-title"},oe=["onMouseenter","onMouseleave"],le={key:0,class:"upload-box-img-mask"},ae=["onClick"],ie={key:1,class:"upload-tip"},ne={style:{"text-align":"center"}},ce=F(()=>i("div",{style:{display:"inline"}},"上传图片",-1)),de={class:"describe-box"},re=F(()=>i("div",{class:"describe-title"},"性状描述文字",-1)),ue=["src"],pe="fill",_e=E({__name:"shapeProperties",props:{form:{type:Object,default:()=>{}}},emits:["update:formValue"],setup(n,{emit:w}){const u=J("$baseMessage"),m=C(""),c=C(!1),b=w,v=n,d=M([{title:"药品外包装",key:"outerPackage",isPreview:!1},{title:"药品正面",key:"front",isPreview:!1},{title:"药品侧面",key:"side",isPreview:!1},{title:"药品背面",key:"back",isPreview:!1}]),e=M({outerPackage:"",front:"",side:"",back:"",describe:""});function f(){e.barcodePic="",u("图片清除成功","success","hey")}function $(a,t){return V(this,null,function*(){if(a){let{data:k}=yield ee({file:a.raw,bucketCode:"3",businessId:v.form.id||""});e[t]=k.id}})}const B=a=>{m.value=a,c.value=!0},S=(a,t)=>{d[t].isPreview=!0},U=(a,t)=>{d[t].isPreview=!1};R(e,(a,t)=>{y.value||b("update:formValue",e),y.value=!1},{deep:!0,immediate:!1});const y=C(!1);return q(()=>{y.value=!0,Object.assign(e,v.form)}),(a,t)=>{const k=r("el-image"),N=r("CircleCloseFilled"),x=r("el-icon"),D=r("Plus"),L=r("el-upload"),O=r("el-divider"),z=r("el-input"),A=W;return p(),_("div",null,[i("div",se,[(p(!0),_(G,null,H(o(d),(s,P)=>(p(),_("div",{key:P,class:"block"},[i("div",te,K(s.title),1),l(L,{class:"upload-box","show-file-list":!1,"auto-upload":!1,action:"#",format:["jpg","jpeg","png"],"list-type":"picture-card","on-change":h=>{$(h,s.key)}},{default:g(()=>[o(e)[s.key]?(p(),_("div",{key:0,class:"upload-box-img",onMouseenter:h=>S(s,P),onMouseleave:h=>U(s,P)},[s.isPreview?(p(),_("div",le,[i("span",{onClick:I(h=>B(o(e)[s.key]),["stop"]),style:{color:"#fff"}},"点击预览",8,ae)])):Q("",!0),l(k,{style:{width:"88px",height:"88px"},src:o(j)(o(e)[s.key]),fit:pe},null,8,["src"]),l(x,{class:"upload-box-close",onClick:I(f,["stop"])},{default:g(()=>[l(N)]),_:1})],40,oe)):(p(),_("div",ie,[i("div",ne,[l(x,null,{default:g(()=>[l(D)]),_:1})]),ce]))]),_:2},1032,["on-change"])]))),128))]),l(O,{"border-style":"dashed"}),i("div",de,[re,l(z,{modelValue:o(e).describe,"onUpdate:modelValue":t[0]||(t[0]=s=>o(e).describe=s),maxlength:"200",placeholder:"请输入","show-word-limit":"",type:"textarea",style:{width:"100%"},rows:3},null,8,["modelValue"])]),l(A,{width:"600",title:"图片",modelValue:o(c),"onUpdate:modelValue":t[1]||(t[1]=s=>T(c)?c.value=s:null)},{default:g(()=>[i("img",{"w-full":"",src:o(j)(o(m)),alt:"Preview Image",style:{width:"100%"}},null,8,ue)]),_:1},8,["modelValue"])])}}}),he=Z(_e,[["__scopeId","data-v-9cddb147"]]);export{he as default};
